<head>
<style>
  a:hover{
    text-decoration :none;
  }
</style>

<div class="row">
  <div class="col-md-12">
    <%= link_to("Clear",clean_coins_path,method: :delete, class: "pull-right",style: "text-decoration: underline;",
    data: { confirm: "you sure ？"}) %>
<%= form_tag bulk_update_admin_coins_path, :class => "form-inline" do %>
  <table class="table table-bordered">
    <thead>
      <tr>
        <th><%= check_box_tag "全选", "1", false, :id => "toggle_all" %></th>
        <th>
          <% if params[:order] == 'by_upperid_bound' %>
            <%= link_to('Name',admin_coins_path(:order =>"by_lowerid_bound" )) %>
            <%= link_to(icon('fa fa-long-arrow-down'),admin_coins_path(:order => "by_lowerid_bound")) %>
          <% elsif params[:order] == 'by_lowerid_bound' %>
            <%= link_to('Name',admin_coins_path(:order =>"by_upperid_bound" )) %>
            <%= link_to(icon('fa fa-long-arrow-up'),admin_coins_path(:order => "by_upperid_bound")) %>
          <% else %>
            <%= link_to('Name',admin_coins_path(:order =>"by_lowerid_bound" )) %>
            <%= link_to(icon('fa fa-arrows-v'),admin_coins_path(:order => "by_lowerid_bound")) %>
          <% end %>
        </th>
        <th>
          <% if params[:order] == 'by_uppermc_bound' %>
            <%= link_to('MC',admin_coins_path(:order =>"by_lowermc_bound" )) %>
            <%= link_to(icon('fa fa-long-arrow-down'),admin_coins_path(:order => "by_lowermc_bound")) %>
          <% elsif params[:order] == 'by_lowermc_bound' %>
            <%= link_to('MC',admin_coins_path(:order =>"by_uppermc_bound" )) %>
            <%= link_to(icon('fa fa-long-arrow-up'),admin_coins_path(:order => "by_uppermc_bound")) %>
          <% else %>
            <%= link_to('MC',admin_coins_path(:order =>"by_lowermc_bound" )) %>
            <%= link_to(icon('fa fa-arrows-v'),admin_coins_path(:order => "by_lowermc_bound")) %>
          <% end %>
        </th>
        <th>
          <% if params[:order] == 'by_uppermv_bound' %>
            <%= link_to('MV',admin_coins_path(:order =>"by_lowermv_bound" )) %>
            <%= link_to(icon('fa fa-long-arrow-down'),admin_coins_path(:order => "by_lowermv_bound")) %>
          <% elsif params[:order] == 'by_lowermv_bound' %>
            <%= link_to('MV',admin_coins_path(:order =>"by_uppermv_bound" )) %>
            <%= link_to(icon('fa fa-long-arrow-up'),admin_coins_path(:order => "by_uppermv_bound")) %>
          <% else %>
            <%= link_to('MV',admin_coins_path(:order =>"by_lowermv_bound" )) %>
            <%= link_to(icon('fa fa-arrows-v'),admin_coins_path(:order => "by_lowermv_bound")) %>
          <% end %>
        </th>
        <th>
          <% if params[:order] == 'by_upperprice_bound' %>
            <%= link_to('Price',admin_coins_path(:order =>"by_lowerprice_bound" )) %>
            <%= link_to(icon('fa fa-long-arrow-down'),admin_coins_path(:order => "by_lowerprice_bound")) %>
          <% elsif params[:order] == 'by_lowerprice_bound' %>
            <%= link_to('Price',admin_coins_path(:order =>"by_upperprice_bound" )) %>
            <%= link_to(icon('fa fa-long-arrow-up'),admin_coins_path(:order => "by_upperprice_bound")) %>
          <% else %>
            <%= link_to('Price',admin_coins_path(:order =>"by_lowerprice_bound" )) %>
            <%= link_to(icon('fa fa-arrows-v'),admin_coins_path(:order => "by_lowerprice_bound")) %>
          <% end %>
        </th>
        <th>
          <% if params[:order] == 'by_upperml_bound' %>
            <%= link_to('Marketl',admin_coins_path(:order =>"by_lowerml_bound" )) %>
            <%= link_to(icon('fa fa-long-arrow-down'),admin_coins_path(:order => "by_lowerml_bound")) %>
          <% elsif params[:order] == 'by_lowerml_bound' %>
            <%= link_to('Marketl',admin_coins_path(:order =>"by_upperml_bound" )) %>
            <%= link_to(icon('fa fa-long-arrow-up'),admin_coins_path(:order => "by_upperml_bound")) %>
          <% else %>
            <%= link_to('Marketl',admin_coins_path(:order =>"by_lowerml_bound" )) %>
            <%= link_to(icon('fa fa-arrows-v'),admin_coins_path(:order => "by_lowerml_bound")) %>
          <% end %>
        </th>
        <th>
          <% if params[:order] == 'by_upperquota_bound' %>
            <%= link_to('24H',admin_coins_path(:order =>"by_lowerquota_bound" )) %>
            <%= link_to(icon('fa fa-long-arrow-down'),admin_coins_path(:order => "by_lowerquota_bound")) %>
          <% elsif params[:order] == 'by_lowerquota_bound' %>
            <%= link_to('24H',admin_coins_path(:order =>"by_upperquota_bound" )) %>
            <%= link_to(icon('fa fa-long-arrow-up'),admin_coins_path(:order => "by_upperquota_bound")) %>
          <% else %>
            <%= link_to('24H',admin_coins_path(:order =>"by_lowerquota_bound" )) %>
            <%= link_to(icon('fa fa-arrows-v'),admin_coins_path(:order => "by_lowerquota_bound")) %>
          <% end %>
        </th>
        <th>
          <% if params[:order] == 'by_upperweek_bound' %>
            <%= link_to('Week',admin_coins_path(:order =>"by_lowerweek_bound" )) %>
            <%= link_to(icon('fa fa-long-arrow-down'),admin_coins_path(:order => "by_lowerweek_bound")) %>
          <% elsif params[:order] == 'by_lowerweek_bound' %>
            <%= link_to('Week',admin_coins_path(:order =>"by_upperweek_bound" )) %>
            <%= link_to(icon('fa fa-long-arrow-up'),admin_coins_path(:order => "by_upperweek_bound")) %>
          <% else %>
            <%= link_to('Week',admin_coins_path(:order =>"by_lowerweek_bound" )) %>
            <%= link_to(icon('fa fa-arrows-v'),admin_coins_path(:order => "by_lowerweek_bound")) %>
          <% end %>
        </th>
        <th>
          Operation
        </th>
      </tr>
    </thead>

    <tbody>
      <% @coins.each do |coin| %>
        <tr>
          <td><%= check_box_tag "ids[]", coin.id %></td>
          <td><%= link_to(coin.name, admin_coin_path(coin))%></td>
          <td><%= coin.mc %></td>
          <td><%= coin.mv %></td>
          <td><%= coin.price %></td>
          <td><%= coin.marketl %></td>
          <td><%= coin.quota %></td>
          <td><%= coin.week %></td>
          <td>
            <%= link_to("Edit",edit_admin_coin_path(coin))%>
            ｜
            <%= link_to("Destroy",admin_coin_path(coin),:method => :delete)%>
          </td>
        </tr>
      <% end %>
    </tbody>
  </table>

<p><%= submit_tag "批次删除", :class => "btn btn-danger", :data => { :confirm => "Are you sure?" } %></p>
<% end %>

<script>
  $("#toggle_all").click(function(){
    if ( $(this).prop("checked") ) {
      $("input[name='ids[]']").prop("checked", true);
    } else {
      $("input[name='ids[]']").prop("checked", false);
    }
  })
</script>

<%= form_tag import_coins_path, multipart: true do %>
  <%= file_field_tag :file %>
  <%= submit_tag "submit" %>
<% end %>
</head>
